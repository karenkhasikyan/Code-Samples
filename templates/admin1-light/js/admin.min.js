var dashboard={device:"ontouchstart"in document.documentElement,$navbarTop:$(".navbar-top"),$sidebarExtra:$(".sidebar-extra"),$content:$(".content"),$sidebar:$(".sidebar"),$sidebarFixed:$(".sidebar-fixed"),$sidebarNav:$(".sidebar-nav"),init:function(){$('[data-click="prevent"]').on("click",dashboard.preventDef),dashboard.$navbarTop.find(".dropdown").on("show.bs.dropdown hide.bs.dropdown",dashboard.navbarDropdownIOS),dashboard.$navbarTop.find(".sidebar-toggle").on("click",dashboard.sidebarToggle),dashboard.$navbarTop.find(".navbar-form .btn").on("click",dashboard.navbarFormBtn),dashboard.$sidebarExtra.on("click",dashboard.stopProp),dashboard.slimscrollInit(".list-dropdown-notifications","#777"),dashboard.slimscrollInit(".list-dropdown-messages","#777"),dashboard.slimscrollInit(".list-dropdown-tasks","#777"),dashboard.$sidebarExtra.find(".nav-tabs a").on("click",dashboard.tabInit),dashboard.slimscrollInit(".sidebar-extra-scroller","#fff"),dashboard.bootstrapSwitchInit(".sidebar-extra .bs-switch"),dashboard.succinctInit("#sidebar-timeline",60),dashboard.succinctInit("#sidebar-mail",22),dashboard.$sidebarNav.find(".dropdown > a").on("click",dashboard.sidebarDropdown),$(".sidebar").hasClass("sidebar-fixed")&&$(".sidebar-fixed").is(":visible")&&dashboard.slimscrollInit(".sidebar-fixed-scroller","#fff"),dashboard.$sidebarFixed.on("mouseenter mouseleave",dashboard.sidebarSmFixedMouseOver),dashboard.sidebarActiveLinkInit(),dashboard.pageHeight()},stopProp:function(s){s.stopPropagation()},preventDef:function(s){s.preventDefault(),s.returnValue=!1},slimscrollInit:function(s,a){dashboard.device||(!$(s).height().length>0&&$(s).closest(".dropdown-menu").css({display:"block",visibility:"hidden"}),$(s).slimScroll({width:$(s).width(),height:$(s).height(),allowPageScroll:!0,wheelStep:24,color:a}),!$(s).height().length>0&&$(s).closest(".dropdown-menu").removeAttr("style"))},bootstrapSwitchInit:function(s){$(s).bootstrapSwitch("onColor","info")},succinctInit:function(s,a){$(s+" .text-ellipsis").succinct({size:a})},tabInit:function(s){s.preventDefault(),$(this).tab("show")},navbarDropdownIOS:function(s){/iPhone|iPad|iPod/i.test(navigator.userAgent)&&("show"==s.type?($("body").append('<div class="dropdown-backdrop"></div>'),$(".dropdown-backdrop").css("cursor","pointer")):"hide"==s.type&&$(".dropdown-backdrop").remove())},navbarFormBtn:function(){$(this).closest("form").find(".form-control").is(":visible")&&"absolute"!=$(this).closest("form").find(".form-control").css("position")?$(this).attr("type","submit"):($(this).attr("type","button"),$(this).closest("form").toggleClass("open"))},sidebarToggle:function(){"none"==dashboard.$sidebar.css("float")&&"fixed"!=dashboard.$sidebar.css("position")?"none"==dashboard.$sidebar.css("display")?(dashboard.$sidebar.slideDown(300),dashboard.$sidebar.css("min-height","inherit")):dashboard.$sidebar.slideUp(300,function(){$(this).removeAttr("style"),dashboard.pageHeight()}):($("body").toggleClass("has-sidebar-sm"),dashboard.pageHeight())},sidebarDropdown:function(){($("body").hasClass("has-sidebar-sm")||dashboard.$sidebar.hasClass("sidebar-hover"))&&"none"!=dashboard.$sidebar.css("float")||dashboard.sidebarDropdownClick($(this)),$("body").hasClass("has-sidebar-sm")&&$(this).parent(".dropdown").parent().closest(".dropdown").length>0&&dashboard.sidebarDropdownClick($(this)),!$("body").hasClass("has-sidebar-sm")&&dashboard.$sidebar.hasClass("sidebar-hover")&&$(this).parent(".dropdown").parent().closest(".dropdown").length>0&&dashboard.sidebarDropdownClick($(this))},sidebarDropdownClick:function(s){var a=s.parent(),d=s.next();a.hasClass("open")?d.slideUp(300,function(){a.removeClass("open"),d.removeAttr("style"),"none"!=dashboard.$sidebar.css("float")&&(dashboard.$sidebar.css("min-height","inherit"),dashboard.pageHeight())}):(a.siblings().find(".inner-nav").slideUp(300,function(){s.removeAttr("style")}),d.slideDown(300,function(){a.addClass("open").siblings().removeClass("open"),d.removeAttr("style"),(dashboard.$sidebar.hasClass("sidebar-fixed")||$("body").hasClass("has-sidebar-sm"))&&"none"!=dashboard.$sidebar.css("float")||$("html, body").animate({scrollTop:a.offset().top-dashboard.$navbarTop.height()},500),"none"!=dashboard.$sidebar.css("float")&&(dashboard.$sidebar.css("min-height","inherit"),dashboard.pageHeight())})),s.closest(".sidebar-nav").hasClass("sidebar-nav-h")&&s.closest(".sidebar-nav").siblings(".sidebar-nav").find("li.open").removeClass("open")},sidebarSmFixedMouseOver:function(s){dashboard.$sidebar.hasClass("sidebar-fixed")&&dashboard.$sidebarFixed.is(":visible")&&("mouseenter"==s.type&&"fixed"==dashboard.$sidebarFixed.css("position")?$("body").hasClass("has-sidebar-sm")&&$("body").removeClass("has-sidebar-sm").addClass("has-sidebar-fixed"):"mouseleave"==s.type&&$("body").hasClass("has-sidebar-fixed")&&$("body").addClass("has-sidebar-sm").removeClass("has-sidebar-fixed"))},sidebarActiveLinkInit:function(){var s,a;s=window.location.pathname,s=s.split("/"),a=s[s.length-1],dashboard.$sidebarNav.find("a").each(function(){var s=$(this).attr("href");s==a&&$(this).parent().addClass("active").parents(".dropdown").addClass("open active")})},pageHeight:function(){dashboard.$sidebar.outerHeight()>$(window).height()?(dashboard.$sidebar.css("min-height",dashboard.$sidebar.outerHeight()),dashboard.$content.css("min-height",dashboard.$sidebar.outerHeight())):(dashboard.$sidebar.css("min-height",$(window).height()),dashboard.$content.css("min-height",$(window).height()))}};!function($){"use strict";dashboard.init()}(jQuery);