var pageScript={init:function(){$.extend($.fn.dataTable.defaults,{dom:'<"table-responsive" <t>>',autoWidth:!1}),pageScript.datatablesTasklistInit(".panel-tasks .table");var t=new Date,e=t.getFullYear(),a=t.getMonth()+1;a=10>a?"0"+a:a;var i=[{title:"All Day Event",start:e+"-"+a+"-01"},{title:"Long Event",start:e+"-"+a+"-07",end:e+"-"+a+"-10"},{id:999,title:"Repeating Event",start:e+"-"+a+"-09T16:00:00"},{id:999,title:"Repeating Event",start:e+"-"+a+"-16T16:00:00"},{title:"Conference",start:e+"-"+a+"-11",end:e+"-"+a+"-13"},{title:"Meeting",start:e+"-"+a+"-12T10:30:00",end:e+"-"+a+"-12T12:30:00"},{title:"Lunch",start:e+"-"+a+"-12T12:00:00"},{title:"Meeting",start:e+"-"+a+"-12T14:30:00"},{title:"Happy Hour",start:e+"-"+a+"-12T17:30:00"},{title:"Dinner",start:e+"-"+a+"-12T20:00:00"},{title:"Birthday Party",start:e+"-"+a+"-13T07:00:00"},{title:"Click for Google",url:"http://google.com/",start:e+"-"+a+"-28"}];pageScript.calendarInit("#calendar",i),pageScript.datatablesEventListInit(".panel-events .table"),pageScript.contentLiveSearchInit(".panel-tasks-comments","#search-tasks-comments",".media","div"),pageScript.contentLiveSearchInit(".panel-activity-monitor","#search-activity-monitor",".media","div"),pageScript.contentLiveSearchInit(".panel-chat","#search-chat",".media","div"),pageScript.slimscrollInit(".panel-tasks-comments .media-wrapper"),pageScript.slimscrollInit(".panel-activity-monitor .media-wrapper"),pageScript.slimscrollInit(".panel-chat .media-wrapper"),$(".slimScrollBar").hide()},slimscrollInit:function(t){var e=parseInt($(t).css("max-height"));$(t).slimScroll({height:e,allowPageScroll:!0,color:"#000"})},icheckInit:function(t){$(t).iCheck({checkboxClass:"icheckbox_minimal-grey",radioClass:"iradio_minimal-grey"})},datatablesIcheckChecked:function(){var t=$(this).closest("th"),e=$(this).closest(".table").find("tbody input.icheck");t.length&&e.iCheck("check")},datatablesIcheckUnchecked:function(){var t=$(this).closest("th"),e=$(this).closest(".table").find("tbody input.icheck");t.length&&e.iCheck("uncheck")},datatablesTasklistChildRow:function(t){function e(t){return'<table class="table table-bordered"><tr><td style="width: 35%;">Parent Project:</td><td>'+t.parentProject+"</td></tr><tr><td>Description:</td><td>"+t.description+"</td></tr><tr><td>Due Date:</td><td>"+t.dueDate+"</td></tr><tr><td>Assigned to:</td><td>"+t.assign+"</td></tr></table>"}var a=$(this).closest("tr"),i=t.DataTable().row(a);i.child.isShown()?(i.child.hide(),a.removeClass("shown")):(i.child(e(i.data())).show(),a.addClass("shown"))},datatablesTasklistEdit:function(t){$(this).removeClass("btn-edit").addClass("btn-save").find(".fa-pencil").removeClass("fa-pencil").addClass("fa-save");for(var e=$(this).closest("tr"),a=e.find("td"),i=1;i<=a.length-2;i++){var n=$(t).DataTable().cell(a.eq(i));n.data('<input type="text" class="form-control input-sm" value="'+n.data()+'">')}},datatablesTasklistSave:function(t){$(this).removeClass("btn-save").addClass("btn-edit").find(".fa-save").removeClass("fa-save").addClass("fa-pencil");for(var e=$(this).closest("tr"),a=e.find("td"),i=1;i<=a.length-2;i++){var n=$(t).DataTable().cell(a.eq(i)),l=a.eq(i).find(".form-control").val();n.data(l).draw()}},datatablesTasklistRemove:function(t){$(t).DataTable().row().remove().draw(!1)},datatablesTasklistInit:function(t){$(t).DataTable({dom:'<f><"table-responsive" <t>>',language:{search:"_INPUT_",searchPlaceholder:"Search..."},order:[[1,"asc"]],columnDefs:[{targets:[0,3],orderable:!1}],ajax:"task-list-data.txt",columns:[{className:"details-control",defaultContent:"<input type='checkbox' class='icheck' autocomplete='off'>"},{data:"title"},{data:"tag"},{defaultContent:'<td><div class="btn-group btn-group-xs pull-right"><button type="button" class="btn btn-default btn-edit"><i class="fa fa-pencil"></i></button><button type="button" class="btn btn-default btn-remove"><i class="fa fa-trash"></i></button></div></td>'}],initComplete:function(e,a){pageScript.icheckInit("input.icheck"),$(".icheck").on("ifChecked",pageScript.datatablesIcheckChecked),$(".icheck").on("ifUnchecked",pageScript.datatablesIcheckUnchecked),$(t).find("tbody").on("click","td.details-control",$.proxy(pageScript.datatablesTasklistChildRow,null,$(t))),$(t).DataTable().on("click",".btn-edit",$.proxy(pageScript.datatablesTasklistEdit,null,t)),$(t).DataTable().on("click",".btn-save",$.proxy(pageScript.datatablesTasklistSave,null,t)),$(t).DataTable().on("click",".btn-remove",$.proxy(pageScript.datatablesTasklistRemove,null,t))}})},contentLiveSearchInit:function(t,e,a,i){$(t).searchable({searchField:e,selector:a,childSelector:i})},calendarInit:function(t,e){$(t).fullCalendar({header:{left:"prev,next,title",right:"today,month,agendaWeek,agendaDay"},buttonText:{today:"Today",month:"Month",week:"Week",day:"Day"},editable:!0,eventLimit:!0,events:e})},datatablesEventListChildRow:function(t){function e(t){return'<table class="table table-bordered"><tr><td>Description:</td><td>'+t.description+"</td></tr><tr><td>Invited:</td><td>"+t.invited+"</td></tr></table>"}var a=$(this).closest("tr"),i=t.DataTable().row(a);i.child.isShown()?(i.child.hide(),a.removeClass("shown")):(i.child(e(i.data())).show(),a.addClass("shown"))},datatablesEventListInit:function(t){$(t).DataTable({ordering:!1,ajax:"event-list-data.txt",columns:[{className:"details-control",render:function(t,e,a,i){return'<span class="block">'+a.title+"</span><span>"+a.date+"</span>"}},{defaultContent:'<button class="btn btn-default-outline">Cancel</button>'}],initComplete:function(e,a){$(t).find("tbody").on("click","td.details-control",$.proxy(pageScript.datatablesEventListChildRow,null,$(t)))}})}};!function($){"use strict";pageScript.init()}(jQuery);